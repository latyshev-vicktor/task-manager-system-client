<header class="navbar">
  <div class="navbar-left">
    <button 
      tuiButton 
      type="button" 
      appearance="flat" 
      size="s"
      (click)="onMenuToggle()"
      class="menu-toggle"
      title="Переключить меню">
      <lucide-icon [img]="Menu" size="20"></lucide-icon>
    </button>
    
    <h1 class="page-title">{{ pageTitle }}</h1>
    
    @if(breadcrumbs.length > 0) {
      <nav class="breadcrumb">
        <span 
          *ngFor="let crumb of breadcrumbs; let last = last" 
          class="breadcrumb-item"
          [class.active]="last">
          {{ crumb }}
          @if(!last) {
            <lucide-icon
              [img]="ChevronRight" 
              size="16"
              class="breadcrumb-separator">
            </lucide-icon>
          }
        </span>
      </nav>
    }
  </div>
  
  <div class="navbar-right">
    <button 
      tuiButton 
      type="button" 
      appearance="flat" 
      size="s" 
      class="nav-action"
      title="Поиск">
      <lucide-icon [img]="Search" size="18"></lucide-icon>
    </button>
    
    <button 
      tuiButton 
      type="button" 
      appearance="flat" 
      size="s" 
      class="nav-action notification-btn"
      title="Уведомления">
      <lucide-icon [img]="Bell" size="18"></lucide-icon>
      @if(notificationCount > 0) {
        <span class="notification-badge">
          {{ notificationCount > 99 ? '99+' : notificationCount }}
        </span>
      }
    </button>
    
    <!-- User Menu -->
    <div class="user-menu">
      <button 
        tuiButton
        type="button" 
        appearance="primary" 
        size="l" 
        class="user-button">
        <div class="user-avatar">
          <lucide-icon [img]="User" size="20"></lucide-icon>
        </div>
        <div class="user-info" *ngIf="user$ | async as user">
          <span class="user-name">{{ user.firstName }} {{ user.lastName }}</span>
          <span class="user-email">{{ user.email }}</span>
        </div>
        <lucide-icon [img]="ChevronDown" size="16" class="user-dropdown-icon"></lucide-icon>
      </button>
    </div>
  </div>
</header>